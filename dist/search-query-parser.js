!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("search-query-parser",[],t):"object"==typeof exports?exports["search-query-parser"]=t():e["search-query-parser"]=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";
/*!
 * search-query-parser.js
 * Copyright(c) 2014-2019
 * MIT Licensed
 */var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){if(void 0===e&&(e=""),t=n({tokenize:!1,alwaysArray:!1,offsets:!0},t),-1===e.indexOf(":")&&null==t.tokenize)return e;if(null==t.keywords&&null==t.ranges&&0==t.tokenize)return e;var r={text:[]};t.offsets&&(r.offsets=[]);for(var s={},o=[],f=/(\S+:'(?:[^'\\]|\\.)*')|(\S+:"(?:[^"\\]|\\.)*")|(-?"(?:[^"\\]|\\.)*")|(-?'(?:[^'\\]|\\.)*')|\S+|\S+:\S+/g,a=void 0;null!==(a=f.exec(e));){var u=a[0],i=u.indexOf(":");if(-1!==i){u.split(":");var l=u.slice(0,i),c=u.slice(i+1);c=((c=c.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})),o.push({keyword:l,value:c,offsetStart:a.index,offsetEnd:a.index+u.length})}else{var p=!1;"-"===u[0]&&(p=!0,u=u.slice(1)),u=((u=u.replace(/^\"|\"$|^\'|\'$/g,""))+"").replace(/\\(.?)/g,(function(e,t){switch(t){case"\\":return"\\";case"0":return"\0";case"":return"";default:return t}})),p?s.text?s.text instanceof Array?s.text.push(u):(s.text=[s.text],s.text.push(u)):s.text=u:o.push({text:u,offsetStart:a.index,offsetEnd:a.index+u.length})}}o.reverse();for(var d=void 0;d=o.pop();)if("text"in d)r.text.push(d.text),t.offsets&&r.offsets.push(d);else{l=d.keyword;t.keywords=t.keywords||[];var y=!1,x=!1;if(/^-/.test(l)){if("-"===l[0]){var h=l.slice(1);(y=!(-1===t.keywords.indexOf(h)))&&(l=h,x=!0)}}else y=!(-1===t.keywords.indexOf(l));t.ranges=t.ranges||[];var v=!(-1===t.ranges.indexOf(l));if(y){if(t.offsets&&r.offsets.push({keyword:l,value:d.value,offsetStart:x?d.offsetStart+1:d.offsetStart,offsetEnd:d.offsetEnd}),(b=d.value).length){var g=b.split(",");x?s[l]?s[l]instanceof Array?g.length>1?s[l]=s[l].concat(g):s[l].push(b):(s[l]=[s[l]],s[l].push(b)):g.length>1?s[l]=g:t.alwaysArray?s[l]=[b]:s[l]=b:r[l]?r[l]instanceof Array?g.length>1?r[l]=r[l].concat(g):r[l].push(b):(r[l]=[r[l]],r[l].push(b)):g.length>1?r[l]=g:t.alwaysArray?r[l]=[b]:r[l]=b}}else if(v){t.offsets&&r.offsets.push(d);var b,S=(b=d.value).split("-");r[l]={},2===S.length?(r[l].from=S[0],r[l].to=S[1]):S.length%2==0||(r[l].from=b)}else{var w=d.keyword+":"+d.value;r.text.push(w),t.offsets&&r.offsets.push({text:w,offsetStart:d.offsetStart,offsetEnd:d.offsetEnd})}}return r.text.length?!1===t.tokenize&&(r.text=r.text.join(" ").trim()):delete r.text,r.exclude=s,r}}])}));
//# sourceMappingURL=search-query-parser.js.map